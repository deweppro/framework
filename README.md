## API Framework Dewep

### Quick start:
```php
<?php

require_once './../vendor/autoload.php';

use Dewep\Application;
use Dewep\Config;


Config::fromYaml(Config::dirRoot().'/config.yml');
Application::cors();
(new Application())->bootstrap();
```

### A sample configuration file [config.yml]:
To display in the response file in which the error occurred: 
```yaml
debug: true
```


The response format of the standard options:
```yaml
response: json | xml | html
```
If the response want to see your response format, then use your handler:
```yaml
response:
    head: 'application/json; charset=UTF-8'
    handler: Dewep\Parsers\Response::json
```
For processing routes a request, route support attribute - __/{user}/name__ - then you can use 
them in your code - __$request->getAttribute('user')__ . The request method with a comma
 __DELETE, GET, OPTIONS, PATCH, POST, PUT__ - the handler in the format __CLASS::method__ . Example: `$response = (new CLASS($request, $response))->method($attribute1, $attribute2, ....)` 

```yaml
routes:
  /{user}/name:
    GET,POST,PUT: Dewep\Demo::demo
  /:
    GET: Dewep\Demo::home
```
For pre and post processing queries and responses you can use `middleware`, 
each of which must contain a method of the host link 2 parameter: 
`(new middleware())->before(ApplicationInterface $app, array $params)` - before calling the application, and
`(new middleware())->after(ApplicationInterface $app, array $params)` - after a method invocation of the application.
```yaml
middleware:
  request:
    Dewep\Middleware\Auth:
      cookie: x-token

  response:
    Dewep\Middleware\Debug:
      name: app.log
```

For the realization of unrelated code, use the services providers, 
which can be activated at the moment they are first accessed in your code - `Container::get('mysql')->...`
```yaml
providers:
  logger:
    _: Dewep\Providers\LoggerProvider
    debug: true
    name: app
    filename: app.log

  mysql:
    _: Dewep\Providers\MysqlProvider
    host: localhost
    port: 3306
    dbname: default
    login: default
    password: default
```
to initialize should be method - _handler(ApplicationInterface $app, array $config)_
Example: `(new provider())->handler($app, $config)`
### Application framework

```bash
root |
     | app          [source code for the application]
     | public       [public folder]
     | database     [database migration]]
     | resources    [templates template engine and data used in the application]
     | storage      [the preservation of data generated by users and application]
     | temp         [folder logs and temporary files]
     | tests        [folder for unit tests]
```

